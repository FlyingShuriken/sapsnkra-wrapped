{"version":3,"sources":["pages/Home/components/ic.js","pages/Home/components/school.js","pages/Home/components/inputs.js","pages/Home/index.js","index.js"],"names":["IC","checkID","a","obj","document","getElementsByClassName","id","value","length","fetch","req","json","res","classList","add","remove","class","type","placeholder","onInput","name","autoComplete","for","School","useState","school","setSchool","SelectSearch","onChange","self","console","log","ic","then","response","status","options","getOptions","query","Promise","resolve","reject","map","poscode","catch","search","renderValue","valueProps","tabindex","Inputs","getElementById","p","selectionStart","toUpperCase","setSelectionRange","Home","onClick","x","forms","split","switchInternalSchoolCode","nokp","kodsek","ting","kelas","tahun","cboPep","innerHTML","replace","url","getElementsByTagName","src","pathname","URL","scrollIntoView","behavior","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.6f706aa9.chunk.js","sourcesContent":["const IC = () => {\r\n\r\n    const checkID = async () => {\r\n        const obj = document.getElementsByClassName(\"check-id\")[0];\r\n        const id = obj.value\r\n        if(id.length === 12) {\r\n            const req = await fetch(`/api/v1/checkID/${id}`);\r\n            const res = await req.json();\r\n            if(res.id === \"TidakWujud\") {\r\n                obj.classList.add(\"is-invalid\");\r\n                document.getElementsByClassName(\"check-id-danger\")[0].classList.remove(\"visually-hidden\");\r\n            }else if(res.id === \"Wujud\") {\r\n                obj.classList.add(\"is-valid\");\r\n            }\r\n        } else {\r\n            obj.classList.remove(\"is-valid\");\r\n            obj.classList.remove(\"is-invalid\");\r\n            document.getElementsByClassName(\"check-id-danger\")[0].classList.add(\"visually-hidden\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div class=\"main m-3\">\r\n            <strong>This project is still on development. Use it at your own risk!</strong>\r\n            <div class=\"form-floating mb-3 m-1\">\r\n                <input type=\"text\" class=\"form-control check-id\" id=\"floatingInput\" placeholder=\"Your IC Number\" onInput={checkID} name=\"nokp\" autoComplete=\"off\"></input>\r\n                <label for=\"floatingInput\">Your IC Number</label>\r\n                <strong class=\"check-id-danger text-danger visually-hidden\">Invalid IC Number</strong>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default IC;\r\n","import SelectSearch from 'react-select-search';\r\nimport { useState } from \"react\";\r\n\r\nconst School = () => {\r\n\r\n    const [school, setSchool] = useState('');\r\n    const checkStudentValid = (self) => {\r\n        setSchool(self)\r\n        console.log(self)\r\n        const ic = document.getElementsByClassName(\"check-id\")[0].value\r\n        fetch(`/api/v1/checkStudentValid/${self}/${ic}`)\r\n            .then(response => response.json())\r\n            .then(({status}) => {\r\n                console.log(status)\r\n                const obj = document.getElementsByClassName(\"select-search__input\")[0];\r\n                if(status === \"TidakWujud\") {\r\n                    obj.classList.add(\"is-invalid\");\r\n                    obj.classList.remove(\"is-valid\");\r\n                    document.getElementsByClassName(\"check-school-danger\")[0].classList.remove(\"visually-hidden\");\r\n                }else if(status === \"Wujud\") {\r\n                    obj.classList.add(\"is-valid\");\r\n                    obj.classList.remove(\"is-invalid\");\r\n                    document.getElementsByClassName(\"check-school-danger\")[0].classList.add(\"visually-hidden\");\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div class=\"main\">\r\n            <SelectSearch\r\n                value={school}\r\n                onChange={checkStudentValid}\r\n                options={[]}\r\n                getOptions={(query) => {\r\n                    if(query.length > 3){\r\n                    return new Promise((resolve, reject) => {\r\n                        fetch(`/api/v1/search/${query}`)\r\n                            .then(response => response.json())\r\n                            .then(({ school }) => {\r\n                                resolve(school.map(({ id, name, poscode }) => ({ value: id, name: `${id} - ${poscode} - ${name}` })))\r\n                            })\r\n                            .catch(reject);\r\n                    });\r\n                }}}\r\n                search\r\n                renderValue={(valueProps) => <input {...valueProps} tabindex=\"0\" class=\"select-search__input\" name=\"kodsek\" autoComplete=\"off\"/>}\r\n                placeholder=\"Search Your School (support: School Code, School Name, School Poscode)\"\r\n            />\r\n                <strong class=\"check-school-danger text-danger visually-hidden\">You have no data in this school</strong>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default School;\r\n","// import { useState } from \"react\";\r\n\r\nconst Inputs= () => {\r\n\r\n    const tingupper = () => {\r\n        const self = document.getElementById(\"ting\");\r\n        let p = self.selectionStart;\r\n        self.value = self.value.toUpperCase();\r\n        self.setSelectionRange(p, p);\r\n    }\r\n\r\n    const kelasupper = () => {\r\n        const self = document.getElementById(\"kelas\");\r\n        let p = self.selectionStart;\r\n        self.value = self.value.toUpperCase();\r\n        self.setSelectionRange(p, p);\r\n    }\r\n\r\n    const cbopepupper = () => {\r\n        const self = document.getElementById(\"cboPep\");\r\n        let p = self.selectionStart;\r\n        self.value = self.value.toUpperCase();\r\n        self.setSelectionRange(p, p);\r\n    }\r\n\r\n    return (\r\n        <div class=\"m-3\">\r\n            <span>Darjah/Tingkatan(eg.Darjah 1 = D1, Tingkatan 1 = T1)</span>\r\n            <input autoComplete=\"off\" type=\"text\" aria-label=\"Darjah/Tingkatan\" class=\"form-control\" id=\"ting\" name=\"ting\" onInput={tingupper}></input>\r\n            <span>Kelas(eg.APPLE, HIGH_RAJIN)</span>\r\n            <input autoComplete=\"off\" type=\"text\" aria-label=\"Kelas\" class=\"form-control\" id=\"kelas\" name=\"kelas\" onInput={kelasupper}></input>\r\n            <span>Tahun(eg.2017,2018)</span>\r\n            <input autoComplete=\"off\" type=\"number\" aria-label=\"Tahun\" class=\"form-control\" id=\"tahun\" name=\"tahun\"></input>\r\n            <span>Jenis Peperiksaan(eg.<br></br>1. PEPERIKSAAN PERTENGAHAN TAHUN = PPT, <br></br>2. PEPERIKSAAN AKHIR TAHUN = PAT , <br></br>3. UPSR = UPSRC, <br></br>4. Ujian 1 = U1</span>\r\n            <input autoComplete=\"off\" type=\"text\" aria-label=\"Jenis Peperiksaan\" class=\"form-control\" id=\"cboPep\" name=\"cboPep\" onInput={cbopepupper}></input>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Inputs;\r\n","// import { useState, useEffect, useRef } from \"react\";\r\n\r\nimport \"./index.css\";\r\nimport IC from \"./components/ic\";\r\nimport School from \"./components/school\";\r\nimport Inputs from \"./components/inputs\";\r\n\r\nconst Home = () => {\r\n\r\n    const switchInternalSchoolCode = () => {\r\n        const obj = document.getElementsByClassName(\"select-search__input\")[0];\r\n        const x = document.forms[0][\"kodsek\"].value;\r\n        obj.value = x.split(\" \")[0]\r\n    }\r\n\r\n    const fetchIfValid = () => {\r\n        switchInternalSchoolCode()\r\n        const nokp = document.getElementsByClassName(\"check-id\")[0].value;\r\n        const kodsek = document.getElementsByClassName(\"select-search__input\")[0].value;\r\n        const ting = document.getElementById(\"ting\").value;\r\n        const kelas = document.getElementById(\"kelas\").value;\r\n        const tahun = document.getElementById(\"tahun\").value;\r\n        const cboPep = document.getElementById(\"cboPep\").value;\r\n\r\n        fetch(`../api/v1/check/${kodsek}/${tahun}/${ting}/${kelas}/${nokp}/${cboPep}`)\r\n            .then(function(response) {\r\n                return response.json();\r\n            }).then(res => {\r\n                console.log(res);\r\n                document.getElementById(\"response\").innerHTML = (res[\"res\"])\r\n                document.getElementById(\"response\").innerHTML = document.getElementById(\"response\").innerHTML.replace(/width=\"[0-9][0-9][0-9]\"|width=\"[1-9]\"|width=\"[0-9][0-9]\"/g,\"\")\r\n                document.getElementById(\"response\").classList.add(\"border-dark\");\r\n                const url = document.getElementsByTagName(\"img\")[0].src;\r\n                const pathname = new URL(url).pathname\r\n                document.getElementsByTagName(\"img\")[0].src = `https://sapsnkra.moe.gov.my/${pathname}`\r\n                document.getElementById(\"response\").scrollIntoView({behavior: 'smooth'});\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div class=\"main\">\r\n            <form>\r\n                <IC/>\r\n                <div class=\"m-3\"><School /></div>\r\n                <Inputs />\r\n                <button type=\"button\" class=\"btn btn-primary m-3\" onClick={fetchIfValid}>Check</button>\r\n            </form>\r\n            <div class=\"response\" id=\"response\"></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport Home from \"./pages/Home\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Home />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}